<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Registrar's Office Class Search</title>
    </head>
    <body>
        <h1>Registrar's Office</h1>
        {% if result.error %}
            <p>{{ result.error }}</p>
        {% else %}
            <h2>Class Search</h2>
            <hr>
            <form action="/index" method="get">
            <table>
                <tbody>
                    <tr>
                        <td align ="right">Dept: </td> 
                        <td>
                            <input 
                                type="text" 
                                id="deptInput" 
                                name="dept" 
                                value="{{ request.args.get('dept', '') }}"
                            >
                            <br/>
                        </td>
                    </tr>
                    <tr>
                        <td align ="right">Number: </td> 
                        <td>
                            <input 
                                type="text" 
                                id="coursenumInput" 
                                name="coursenum" 
                                value="{{ request.args.get('coursenum', '') }}"
                            >
                            <br/>
                        </td>
                    </tr>
                    <tr>
                        <td align ="right">Area: </td> 
                        <td>
                            <input 
                                type="text" 
                                id="areaInput" 
                                name="area" 
                                value="{{ request.args.get('area', '') }}"
                            >
                            <br/>
                        </td>
                    </tr>
                    <tr>
                        <td align ="right">Title: </td> 
                        <td>
                            <input 
                                type="title" 
                                id="titleInput" 
                                name="title" 
                                value="{{ request.args.get('title', '') }}"
                            >
                            <br/>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            <input type="submit" id = "submitButton" value="Go">
                        </td>
                    </tr>
                </tbody>
            </table>
            </form>
            <hr>
            <table id="overviewsTable" border="1">
                <thead>
                    <tr>
                        <td><strong>ClassId</strong></td>
                        <td><strong>Dept</strong></td>
                        <td><strong>Num</strong></td>
                        <td><strong>Area</strong></td>
                        <td><strong>Title</strong></td>
                    </tr>
                </thead>
                <tbody>
                    {% for row in result%}
                        <tr>
                            <td>
                                <a 
                                    href = "{{
                                        url_for('reg_details',
                                        classid=row.classid)
                                    }}"
                                > 
                                    {{ row.classid }} 
                                </a>
                            </td>
                            <td>{{ row.dept }}</td>
                            <td>{{ row.coursenum }}</td>
                            <td>{{ row.area }}</td>
                            <td>{{ row.title }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        <br>
        {% endif %}
        <hr>
        Created by Amanda Chan and Arnold Jiang.
        <hr>
    </body>
</html>